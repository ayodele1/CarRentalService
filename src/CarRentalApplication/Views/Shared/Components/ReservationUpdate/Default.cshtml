@model CarRentalApplication.Models.ViewModels.Reservation.ReservationViewModel
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{

}


<div class="col-md-10 col-md-offset-1">
    <table class="table table-responsive" id="review-form">
        <thead>
            <tr class="review-header">
                <td colspan="2"><img src="~/images/@(Model.VehicleSetup.Vehicle.ImageName)" id="rentalVehicle" height="120" width="200" style="display:block; margin:0 auto;" /></td>
            </tr>
        </thead>
        <tbody>
            <tr class="review-segment-header">
                <th><u>VEHICLE</u></th>
                <th><a asp-controller="Reservation" asp-action="VehicleUpdate"><span class="glyphicon glyphicon-edit reservation-edit"></span></a></th>
            </tr>
            <tr class="review-segment-content vehicle-segment">
                <td>NAME</td>
                <td>@Model.VehicleSetup.Vehicle.Name</td>
            </tr>
            <tr class="review-segment-content vehicle-segment">
                <td>MAKE YEAR</td>
                <td>@Model.VehicleSetup.Vehicle.MakeYear</td>
            </tr>
            <tr class="review-segment-content vehicle-segment">
                <td>PASSENGER CAPACITY</td>
                <td>@Model.VehicleSetup.Vehicle.PassengerCapacity</td>
            </tr>
            <tr class="review-segment-header">
                <th>LOGISTICS</th>
                <th><a asp-controller="Reservation" asp-action="LogisticsUpdate"><span class="glyphicon glyphicon-edit reservation-edit"></span></a></th>
            </tr>
            <tr class="review-segment-content logistics-segment">
                <td>PICKUP LOCATION AND DATE</td>
                <td>@Model.LogisticsSetup.PickupLocation ON @Model.LogisticsSetup.PickupDate.ToString("yyyy-MM-dd")</td>
            </tr>
            <tr class="review-segment-content logistics-segment">
                <td>RETURN LOCATION AND DATE</td>
                <td>@Model.LogisticsSetup.ReturnLocation ON @Model.LogisticsSetup.ReturnDate.ToString("yyyy-MM-dd")</td>
            </tr>
            <tr class="review-segment-header">
                <th>CONTACT</th>
                <th><a asp-controller="Reservation" asp-action="ContactUpdate"><span class="glyphicon glyphicon-edit reservation-edit"></span></a></th>
            </tr>
            <tr class="review-segment-content contact-segment">
                <td>FULL NAME</td>
                <td>@Model.ContactSetup.FirstName @Model.ContactSetup.LastName</td>
            </tr>
            <tr class="review-segment-content contact-segment">
                <td>EMAIL ADDRESS</td>
                <td>@Model.ContactSetup.Email</td>
            </tr>
            <tr class="review-segment-content contact-segment">
                <td>PHONE NUMBER</td>
                <td>@Model.ContactSetup.PhoneNumber</td>
            </tr>
            <tr class="review-segment-header">
                <th colspan="2">TOTAL COST</th>
            </tr>
            <tr class="review-segment-content">
                <td>VEHICLE COST (For @Model.TotalRentalDays Days)</td>
                <td>$@Model.TotalVehicleCostMinusTax</td>
            </tr>
            <tr class="review-segment-content">
                <td>FEDERAL TAX</td>
                <td>$@Model.FederalTax</td>
            </tr>
            <tr class="review-segment-content">
                <td>STATE TAX</td>
                <td>$@Model.StateTax</td>
            </tr>
            <tr class="review-segment-content">
                <td>TOTAL COST</td>
                <td>$@Model.TotalCost</td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    @if (Model.VehicleSetup.IsDirty)
    {
        <text>
    var x = document.getElementsByClassName('vehicle-segment');
    for (i = 0; i < x.length; i++) {
        x[i].className += ' updated-reservation-segment';
    }
    </text>
    }
    @if (Model.LogisticsSetup.IsDirty)
    {
        <text>
            var x = document.getElementsByClassName('logistics-segment');
            for (i = 0; i < x.length; i++) {
                x[i].className += ' updated-reservation-segment';
            }
        </text>
    }
    @if (Model.ContactSetup.IsDirty)
    {
        <text>
            var x = document.getElementsByClassName('contact-segment');
        for (i = 0; i < x.length; i++) {
            x[i].className += ' updated-reservation-segment';
        }
        </text>
    }
</script>
